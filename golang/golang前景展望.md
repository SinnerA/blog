---
title: golang前景展望
date: 2018-08-20
tags: 
    - golang
---

[TOC]

## 优缺点

### 优点

1. **部署简单**，直接编译成机器码，不依赖其他库。如果使用cgo的话需要依赖glibc。
2. **跨平台编译**，如果你写的Go代码不包含cgo，那么就可以做到window系统编译linux的应用，如何做到的呢？Go引用了plan9的代码，这就是不依赖系统的信息。
3. **静态类型语言**，静态类型(static type)是变量声明的时候的声明类型，静态类型的语言就是可以在编译的时候检查出来隐藏的大多数问题，保证了安全性和高效性。但是一般情况，静态语言编译时间比较长，但是golang的编译速度很快。
4. **语言层面支持并发**，这个就是Go最大的特色，可以充分的利用多核，很容易的使用并发。
5. **内置runtime，支持垃圾回收**，这属于动态语言的特性之一吧，虽然目前来说GC不算完美，但是足以应付我们所能遇到的大多数情况，特别是Go1.1之后的GC
6. **简单易学**，Go语言的作者都有C的基因，那么Go自然而然就有了C的基因，那么**Go关键字是25个**，但是表达能力很强大，几乎支持大多数你在其他语言见过的特性：继承、重载、对象等。
7. **丰富的标准库**，Go目前已经内置了大量的库，特别是**网络库**非常强大，我最爱的也是这部分。
8. **内置强大的工具**，Go语言里面内置了很多工具链，gofmt、govet、pprof等。

### 缺点

1. **泛型**：没有泛型支持，但是有interface可以提供类似泛型的功能

2. **包管理**：go之前的包管理就是简单粗暴，直接放在GOPATH，没有版本号。不过可以采用官方推荐的dep + vendor的形式管理

3. **错误处理**：

   很多人诟病Golang的错误处理太繁琐

   - 错误，就是error，要if判断，可以返回上层
   - 异常，就是panic，遇到panic要分情况处理，go的设计理念是尽早暴露问题，如果panic就应该整个程序挂掉，或者你可以选择recover并记录panic信息，继续执行。

4. **编译文件大**：因为所有依赖的库都包含在里面

## GO 1.10

1.10版本并没有做出很大改变。

最大的变化是**缓存了构建结果**，同时可以更好地检测过期软件包。具体而言，Go不再依赖于文件的修改时间去判断该文件是否需要做重编译，而是**根据文件的内容、构建标志以及存储在编译后软件包中的元数据**做出重编译的决策。这样，没有必要再指定原先用于强制重构建的“-a”标识。缓存构建包意在进一步优化构建时间，特别是当开发人员在一组构建标识或源代码版本和分支之间来回切换时。

与缓存构建类似，现在`go test`命令也对成功测试的结果做缓存。一旦`go test`检测到当前测试的可执行文件和命令行参数与上一次运行测试中所使用的匹配，那么命令将只输出缓存的测试结果。

还有一个变化是`GOMAXPROCS`的设置目前没有限制了。（在 1.9 的时候限制为 1024）。

剩余的都是一些微小改动，比如标准库相关。

## 前景展望

1. 泛型：保持中立态度
2. 错误处理：保持中立态度
3. 包管理：出官方推荐版本，目前用的dep + vendor也能解决问题
4. channel能够设置优先级
5. 优化一些坑：比如defer
6. 丰富标准库：比如提供set、stack等

## 参考

[Go 1.10改进了工具链和性能](http://www.infoq.com/cn/news/2018/03/golang-1.10-released)